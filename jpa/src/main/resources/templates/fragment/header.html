<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<div class="container" th:fragment="headerFragment">
    <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
        <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">
            <img src="/images/rudolf.png" />
        </a>
        <ul class="nav nav-pills">
            <li class="nav-item">
                <a href="/" aria-current="page"
                   class="nav-link active btn text-black" style="background-color: #FFCC33;" >
                    홈
                </a>
            </li>
            <li class="nav-item">
                <a href="/board/list.html" th:href="@{/board/list}"
                   class="nav-link" style="color: #660000;">
                    게시판
                </a>
            </li>
            <li class="nav-item">
                <a href="/mail/mail.html" th:href="@{/mail/mail}"
                   class="nav-link" style="color: #660000;">
                    메일쓰기
                </a>
            </li>
            <!--로그인 전-->
            <th:block sec:authorize="!isAuthenticated()">
                <li class="nav-item"><a href="/member/login" th:href="@{/member/login}" class="nav-link" style="color: #660000;">로그인</a></li>
                <li class="nav-item"><a href="/member/join" th:href="@{/member/join}" class="nav-link" style="color: #660000;">회원가입</a></li>
            </th:block>

            <!--로그인 후-->
            <th:block  sec:authorize="isAuthenticated()">
                <li class="nav-item">
                    <a class="nav-link" style="color: #660000;"
                       href="/member/mypage" th:href="@{/member/mypage}"
                       th:text="${#authentication.principal.loggedMember.name}">
                        유저이름
                    </a>
                </li>
                <li class="nav-item"><a href="/isotope/gallery" th:href="@{/isotope/gallery}" class="nav-link" style="color: #660000;">사진첩</a></li>
                <li class="nav-item"><a href="/member/logout" th:href="@{/member/logout}" class="nav-link" style="color: #660000;">로그아웃</a></li>
            </th:block>
        </ul>
    </header>
</div>
</html>